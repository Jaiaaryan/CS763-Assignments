function [panorama] = get_panorama(xMin, xMax, yMin, yMax, tforms, Imgdata)
%GET_PANORAMA Summary of this function goes here
%   Detailed explanation goes here
% reference used was matlab's offcial documentation/tutorial on stiching
    % Width and height of panorama.
    numImages = numel(Imgdata.Files);
    width  = round(xMax - xMin);
    height = round(yMax - yMin);
    panorama = zeros([height width 3], 'like', I);
    blender = vision.AlphaBlender('Operation', 'Binary mask','MaskSource', 'Input port');
    xLimits = [xMin xMax];
    yLimits = [yMin yMax];
    panoramaView = imref2d([height width], xLimits, yLimits);

    for i = 1:numImages
        I = readimage(Imgdata, i);
        % Transform I into the panorama.
        warpedImage = imwarp(I, tforms(i), 'OutputView', panoramaView);
        % Generate a binary mask.
        mask = imwarp(true(size(I,1),size(I,2)), tforms(i), 'OutputView', panoramaView);
        % Overlay the warpedImage onto the panorama.
        panorama = step(blender, panorama, warpedImage, mask);
    end
end

